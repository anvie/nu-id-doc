"use strict";(self.webpackChunknu_iam_doc=self.webpackChunknu_iam_doc||[]).push([[6362],{3905:(e,n,a)=>{a.d(n,{Zo:()=>u,kt:()=>c});var t=a(7294);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function i(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function p(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function l(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=t.createContext({}),k=function(e){var n=t.useContext(o),a=n;return e&&(a="function"==typeof e?e(n):p(p({},n),e)),a},u=function(e){var n=k(e.components);return t.createElement(o.Provider,{value:n},e.children)},s="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},m=t.forwardRef((function(e,n){var a=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),s=k(a),m=r,c=s["".concat(o,".").concat(m)]||s[m]||d[m]||i;return a?t.createElement(c,p(p({ref:n},u),{},{components:a})):t.createElement(c,p({ref:n},u))}));function c(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=a.length,p=new Array(i);p[0]=m;var l={};for(var o in n)hasOwnProperty.call(n,o)&&(l[o]=n[o]);l.originalType=e,l[s]="string"==typeof e?e:r,p[1]=l;for(var k=2;k<i;k++)p[k]=a[k];return t.createElement.apply(null,p)}return t.createElement.apply(null,a)}m.displayName="MDXCreateElement"},314:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>p,default:()=>s,frontMatter:()=>i,metadata:()=>l,toc:()=>k});var t=a(7462),r=(a(7294),a(3905));const i={id:"keys",title:"Keys",hide_title:!0,sidebar_position:4},p=void 0,l={unversionedId:"API/keys",id:"API/keys",title:"Keys",description:"Daftar Endpoint Keys",source:"@site/docs/API/Keys.md",sourceDirName:"API",slug:"/API/keys",permalink:"/docs/API/keys",draft:!1,editUrl:"https://github.com/anvie/nu-id-doc/blob/main/docs/API/Keys.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"keys",title:"Keys",hide_title:!0,sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"User",permalink:"/docs/API/user"},next:{title:"Integrasi",permalink:"/docs/category/integrasi"}},o={},k=[{value:"Daftar Endpoint Keys",id:"daftar-endpoint-keys",level:2},{value:"Register",id:"register",level:3},{value:"Keys",id:"keys",level:3},{value:"Delete",id:"delete",level:3}],u={toc:k};function s(e){let{components:n,...a}=e;return(0,r.kt)("wrapper",(0,t.Z)({},u,a,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"daftar-endpoint-keys"},"Daftar Endpoint Keys"),(0,r.kt)("p",null,"Endpoint API berikut digunakan untuk mendapatkan informasi keys milik user. Pastikan pengguna sudah terotentikasi menggunakan ",(0,r.kt)("a",{parentName:"p",href:"oauth"},"OAuth")," atau ",(0,r.kt)("a",{parentName:"p",href:"qrauth"},"QRAuth"),". Setiap pemanggilan fungsi API ini harus menyertakan access token yang didapatkan dari proses ",(0,r.kt)("a",{parentName:"p",href:"oauth"},"OAuth")," atau ",(0,r.kt)("a",{parentName:"p",href:"qrauth"},"QRAuth"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Endpoint"),(0,r.kt)("th",{parentName:"tr",align:null},"Deskripsi"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#register"},"/keys/register")),(0,r.kt)("td",{parentName:"tr",align:null},"Mendaftarkan pasangan kunci baru")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#keys"},"/keys")),(0,r.kt)("td",{parentName:"tr",align:null},"Mendapatkan daftar kunci public pengguna")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#delete"},"/keys/delete")),(0,r.kt)("td",{parentName:"tr",align:null},"Menghapus pasangan kunci")))),(0,r.kt)("h3",{id:"register"},"Register"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Endpoint"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"/keys/register")),(0,r.kt)("p",null,"Mendaftarkan pasangan kunci baru untuk pengguna."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Untuk sementara endpoint ini hanya bersifat menggenerasi pasangan kunci baru, belum bisa mengimpor kunci yang sudah ada. Dan sementara ini hanya mendukung tipe kunci ",(0,r.kt)("inlineCode",{parentName:"p"},"ecdsa"),".")),(0,r.kt)("p",null,"Operasi ini membutuhkan akses token dengan scope ",(0,r.kt)("a",{parentName:"p",href:"../API/oauth#daftar-otorisasi-scope"},(0,r.kt)("inlineCode",{parentName:"a"},"keys_op")),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Method:")," POST"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameter:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"name"),": Nama kunci.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Respons:")),(0,r.kt)("p",null,"Json dengan result keypair jika berhasil."),(0,r.kt)("p",null,"Contoh respons:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "result": {\n    "publicKey": "041390c54ff7e57da389865adab20f061ca325bb2a5fafdbc5ce41c0cf...",\n    "privateKey": "6dab5e2ab44552f26d716dfe4a4d9815abaaa45beb68a1dc0106780cc..."\n  }\n}\n')),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"Endpoint ini hanya akan mengembalikan private key sekali dan tidak akan bisa didapatkan lagi\ndari server melalui endpoint manapun, jadi pastikan untuk menyimpan private key tersebut\ndi lokal dengan aman. Pastikan juga untuk melakukan enkripsi menggunakan kata sandi yang kuat apabila\ndisimpan di penyimpanan lokal.")),(0,r.kt)("h3",{id:"keys"},"Keys"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Endpoint"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"/keys")),(0,r.kt)("p",null,"Mendapatkan daftar kunci public pengguna."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Method:")," GET"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameter:")),(0,r.kt)("p",null,"Tidak ada."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Respons:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"id"),": ID."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"name"),": Nama kunci."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"publicKey"),": Kunci public."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"keyType"),": Tipe kunci, contoh: ecdsa, ed25519, rsa, dll."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ownerId"),": ID pemilik kunci.")),(0,r.kt)("p",null,"Contoh respons:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "5f7b5f7b5f7b5f7b5f7b5f7b",\n  "name": "MyApp",\n  "publicKey": "041390c54ff7e57da389865adab20f061ca325bb2a5fafdbc5ce41c0cf...",\n  "keyType": "ecdsa",\n  "ownerId": "5f7b5f7b5f7b5f7b5f7b5f7b"\n}\n')),(0,r.kt)("h3",{id:"delete"},"Delete"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Endpoint"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"/keys/delete")),(0,r.kt)("p",null,"Menghapus pasangan kunci dari daftar kunci pengguna."),(0,r.kt)("p",null,"Operasi ini membutuhkan akses token dengan scope ",(0,r.kt)("a",{parentName:"p",href:"../API/oauth#daftar-otorisasi-scope"},(0,r.kt)("inlineCode",{parentName:"a"},"keys_op")),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Method:")," POST"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameter:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"id"),": ID dari kunci yang akan dihapus.")),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"Perlu diperhatikan bahwa kunci yang telah dihapus tidak dapat dikembalikan lagi dan App yang menggunakan kunci tersebut tidak akan bisa mengakses menggunakan kunci tersebut lagi.")))}s.isMDXComponent=!0}}]);